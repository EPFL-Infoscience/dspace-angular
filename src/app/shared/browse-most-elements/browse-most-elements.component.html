<div class="m-2">
  <ng-container *ngIf="searchResults">
    <ng-container
      *ngIf="
        topSection && mode == cardLayoutMode;
        else listLayout
      "
    >
      <ds-object-grid
        [configStyle]="topSection?.cardStyle"
        [columnStyle]="topSection?.cardColumnStyle"
        [config]="paginatedSearchOptions.pagination"
        [sortConfig]="paginatedSearchOptions.sort"
        [objects]="searchResults"
        [linkType]="collectionElementLinkTypeEnum.Link"
        [context]="context"
        [noPagination]="true"
      >
      </ds-object-grid>
    </ng-container>
    <ng-template #listLayout>
        <ul *ngIf="searchResults?.hasSucceeded" class="list-unstyled">
          <li
            *ngFor="
              let object of searchResults?.payload?.page;
              let i = index;
              let last = last
            "
            class="mt-4 mb-4 d-flex"
            [ngClass]="topSection?.itemListStyle"
          >
            <ds-listable-object-component-loader
              [object]="object"
              [viewMode]="paginatedSearchOptions.view"
              [index]="i"
              [context]="context"
              [listID]="paginatedSearchOptions.configuration"
            ></ds-listable-object-component-loader>
          </li>
        </ul>
    </ng-template>
    <div
      class="row justify-content-center"
      *ngIf="topSection && topSection.showAllResults"
    >
      <button type="button" class="btn btn-link" (click)="showAllResults()">
        {{ "home.top-section.view-results" | translate }}
      </button>
    </div>
    <div *ngIf="searchResults?.hasFailed">
      {{ "remote.error" | translate }}
    </div>
  </ng-container>
  <ds-loading *ngIf="!searchResults"></ds-loading>
</div>
