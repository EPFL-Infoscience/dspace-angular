<div class="{{valueStyle}}">
  <ng-container *ngFor="let attachment of (bitstreams$ | async); let last =last;">
    <div class="row mt-1 mb-2" data-test="attachment-info">
      <div class="col-3">
        <ds-thumbnail [thumbnail]="attachment.thumbnail | async"></ds-thumbnail>
      </div>
      <div class="col-5">

        <ds-additional-metadata [object]="attachment" [objectType]="'attachment'"></ds-additional-metadata>

        <div *ngFor="let attributeConf of envAttributes">
          <span class="font-weight-bold mr-1 text-muted">{{attributeConf.label | translate}}:</span>
          <ng-container [ngSwitch]="attributeConf.name">
            <span *ngSwitchCase="'format'">
              {{getFormat(attachment) | async}}
            </span>
            <span *ngSwitchCase="'size'">
              {{getSize(attachment) | dsFileSize}}
            </span>
          </ng-container>
        </div>
      </div>

      <div class="col-4 text-right">
        <ds-file-download-button [bitstream]="attachment" [enableRequestACopy]="true" [item]="item">
        </ds-file-download-button>
      </div>
    </div>
    <hr *ngIf="!last">
  </ng-container>
  <div *ngIf="canViewMore" class="w-100 text-center my-3">
    <button class="btn btn-outline-primary" data-test="view-more" (click)="viewMore()">
      {{'cris-layout.advanced-attachment.viewMore' | translate}}
    </button>
  </div>
</div>
